{"version":3,"file":"FileInputButton.js","names":["HiddenInput","styled","input","Label","label","FileInputButton","onSelect","props","inputId","useId","inputRef","useRef","handleSelect","useCallback","event","target","files","handleButtonClick","current","click","width"],"sources":["../../src/components/FileInputButton.tsx"],"sourcesContent":["import {useId} from '@reach/auto-id'\nimport {type ButtonProps, Button} from '@sanity/ui'\nimport React, {useCallback, useRef} from 'react'\nimport styled from 'styled-components'\n\nconst HiddenInput = styled.input`\n  overflow: hidden;\n  width: 0.1px;\n  height: 0.1px;\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n`\n\nconst Label = styled.label`\n  position: relative;\n`\n\nexport interface FileInputButtonProps extends ButtonProps {\n  onSelect: (files: FileList) => void\n}\nexport const FileInputButton = ({onSelect, ...props}: FileInputButtonProps) => {\n  const inputId = `FileSelect${useId()}`\n  const inputRef = useRef<HTMLInputElement>(null)\n  const handleSelect = useCallback<React.ChangeEventHandler<HTMLInputElement>>(\n    (event) => {\n      if (onSelect) {\n        onSelect(event.target.files!)\n      }\n    },\n    [onSelect]\n  )\n  const handleButtonClick = useCallback(() => inputRef.current?.click(), [])\n  return (\n    <Label htmlFor={inputId}>\n      <HiddenInput\n        accept=\"video/*\"\n        ref={inputRef}\n        tabIndex={0}\n        type=\"file\"\n        id={inputId}\n        onChange={handleSelect}\n        value=\"\"\n      />\n      <Button\n        onClick={handleButtonClick}\n        mode=\"default\"\n        tone=\"primary\"\n        style={{width: '100%'}}\n        {...props}\n      />\n    </Label>\n  )\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,WAAW,GAAGC,yBAAA,CAAOC,KAAV,qLAAjB;;AASA,IAAMC,KAAK,GAAGF,yBAAA,CAAOG,KAAV,gGAAX;;AAOO,IAAMC,eAAe,GAAG,QAAgD;EAAA,IAA9CC,QAA8C,QAA9CA,QAA8C;EAAA,IAAjCC,KAAiC;;EAC7E,IAAMC,OAAO,uBAAgB,IAAAC,aAAA,GAAhB,CAAb;EACA,IAAMC,QAAQ,GAAG,IAAAC,aAAA,EAAyB,IAAzB,CAAjB;EACA,IAAMC,YAAY,GAAG,IAAAC,kBAAA,EAClBC,KAAD,IAAW;IACT,IAAIR,QAAJ,EAAc;MACZA,QAAQ,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;IACD;EACF,CALkB,EAMnB,CAACV,QAAD,CANmB,CAArB;EAQA,IAAMW,iBAAiB,GAAG,IAAAJ,kBAAA,EAAY;IAAA;;IAAA,4BAAMH,QAAQ,CAACQ,OAAf,sDAAM,kBAAkBC,KAAlB,EAAN;EAAA,CAAZ,EAA6C,EAA7C,CAA1B;EACA,oBACE,6BAAC,KAAD;IAAO,OAAO,EAAEX;EAAhB,gBACE,6BAAC,WAAD;IACE,MAAM,EAAC,SADT;IAEE,GAAG,EAAEE,QAFP;IAGE,QAAQ,EAAE,CAHZ;IAIE,IAAI,EAAC,MAJP;IAKE,EAAE,EAAEF,OALN;IAME,QAAQ,EAAEI,YANZ;IAOE,KAAK,EAAC;EAPR,EADF,eAUE,6BAAC,UAAD;IACE,OAAO,EAAEK,iBADX;IAEE,IAAI,EAAC,SAFP;IAGE,IAAI,EAAC,SAHP;IAIE,KAAK,EAAE;MAACG,KAAK,EAAE;IAAR;EAJT,GAKMb,KALN,EAVF,CADF;AAoBD,CAhCM"}